<div class="background-container">
    <div class="overlay"></div>

  <div class="icon-container left-icons align-items-center">
    
    <div class="profile-container" (click)="toggleMenu()">
      <img
        src="../../../assets/images/human.png"
        alt="Profile"
        width="60px"
        height="60px"
      />
    </div>
  
    <div 
    class="nav_icon" 
    [ngClass]="{ 'hovered': isHovered.bell }"
    (mouseover)="changeIcon('bell', true)" 
    (mouseout)="changeIcon('bell', false)"
  >
    <img 
      [src]="currentIcons.bell" 
      width="30px" 
      height="30px"
    />
  </div>


  
    <!-- Dropdown Menu -->
    <div
      *ngIf="menuOpen"
      class="dropdown-menu"
    >
      <div class="menu-item" routerLink="/profile">
        ملف الشخصي <img src="../../../assets/images/user-check.png" height="30px" width="30px">
      </div>
      <div class="menu-item">
         توقيع المعلم <img src="../../../assets/images/edit-2.png" height="30px" width="30px">
      </div>
      <hr />
      <div class="menu-item logout">
       <img src="../../../assets/images/logout.png" height="30px" width="30px"> تسجيل خروج 
      </div>
    </div>

  
  </div>

    <div class="icon-container center-icons align-items-center ">
        <h1>الاختبارات</h1>
    </div>
  
    <!-- Icons on the right side -->
    <div class="icon-container right-icons align-items-center">
    
      <div 
      class="nav_icon"
      (click)="openSetting()"
      [ngClass]="{ 'hovered': isHovered.settings }"
      (mouseover)="changeIcon('settings', true)" 
      (mouseout)="changeIcon('settings', false)"
    >
      <img 
        [src]="currentIcons.settings" 
        width="30px" 
        height="30px"
      />
    </div>
  
    <!-- (click)="openNav()" -->
  
    <div 
    class="nav_icon"
    (click)="openNav()"
    [ngClass]="{ 'hovered': isHovered.home }"
    (mouseover)="changeIcon('home', true)" 
    (mouseout)="changeIcon('home', false)"
  >
    <img 
      [src]="currentIcons.home" 
      width="30px" 
      height="30px"
    />
  </div>
  
  
      <div class="row container">
        <div class="col-12 nav-wrapper" *ngIf="isNavbarOpen">
          <button class="close-btn" (click)="openNav()">&times;</button>
      
          <div class="nav-container">
            <!-- Close Button -->
      
            <!-- Home Icon Section -->
            <!-- <div class="home-icon">
              <div class="circle">
                <i class="">
                  <img
                    src="../../assets/images/home-1.svg"
                    height="30px"
                    width="30px"
                  />
                </i>
                <span style="color: #001A72;">الرئيسية</span>
              </div>
            </div> -->
      
            <!-- Other Navigation Icons -->
            <div class="nav-items">
              <div class="nav-item " routerLink="/home">
                <i class="">
                  <img
                    src="../../../assets/images/home-black.png"
                    height="30px"
                    width="30px"
                  />
                </i>
                <span>الرئيسية</span>
              </div>
              <div class="nav-item first-item" >
                <i class="">
                  <img
                    src="../../../assets/images/calendar-link.png"
                    height="30px"
                    width="30px"
                  />
                </i>
                <span>الجدول</span>
              </div>
              <div class="nav-item" routerLink="/student">
                <i class="">
                  <img
                    src="../../../assets/images/users-more.png"
                    height="30px"
                    width="30px"
                  />
                </i>
                <span>الطلاب</span>
              </div>
              <div class="nav-item" routerLink="/studentPro">
                <i class="">
                  <img
                    src="../../../assets/images/users-more.png"
                    height="30px"
                    width="30px"
                  />
                </i>
                <span>ملف الطالب</span>
              </div>
              <div class="nav-item" routerLink="/package">
                <i class="">
                  <img
                    src="../../../assets/images/chart-vertical.png"
                    height="30px"
                    width="30px"
                  />
                </i>
                <span>الكشوف</span>
              </div>
              <div class="nav-item" routerLink="/paper">
                <i class="">
                  <img
                    src="../../assets/images/document-filled.png"
                    height="30px"
                    width="30px"
                  />
                </i>
                <span>اوراق العمل</span>
              </div>
              <div class="nav-item" routerLink="/exam">
                <i class="">
                  <img
                    src="../../assets/images/document-filled.png"
                    height="30px"
                    width="30px"
                  />
                </i>
                <span>الاختبارات</span>
              </div>
              <div class="nav-item" routerLink="/certificate">
                <i class="">
                  <img
                    src="../../../assets/images/crown-1.png"
                    height="30px"
                    width="30px"
                  />
                </i>
                <span>الشهادات</span>
              </div>
              <div class="nav-item" routerLink="/reason">
                <i class="">
                  <img
                    src="../../../assets/images/user-warning.png"
                    height="30px"
                    width="30px"
                  />
                </i>
                <span>تحويل طالب</span>
              </div>
              <div class="nav-item" routerLink="/skills">
                <i class="">
                  <img
                    src="../../../assets/images/calendar-user.png"
                    height="30px"
                    width="30px"
                  />
                </i>
                <span>المهارات الاساسية</span>
              </div>
              <div class="nav-item">
                <i class="">
                  <img
                    src="../../../assets/images/suitcase.png"
                    height="30px"
                    width="30px"
                  />
                </i>
                <span> البنك</span>
              </div>
              <div class="nav-item" routerLink="/curriculum">
                <i class="">
                  <img
                    src="../../../assets/images/document-plus.png"
                    height="30px"
                    width="30px"
                  />
                </i>
                <span> توزيع المنهج</span>
              </div>
  
            </div>
          </div>
        </div>    
      </div>
  
      <div class="row container">
        <div class="col-12 nav-wrapper" style="left: 70px; top:24px" *ngIf="isSettingBarOpen" > 
          <button class="closeSetting-btn" (click)="openSetting()">&times;</button>
  
          <div class="settingNav-container">
            <!-- <div class="setting-icon">
              <div class="circle">
                <i class="">
                  <img
                    src="../../../assets/images/document-plusBlue.png"
                    height="30px"
                    width="30px"
                  />
                </i>
                <span style="font-size: small; color:#001A72">اعداد النقاط</span>
              </div>
            </div> -->
  
             <div class="nav-items">
  
              <div class="nav-item first-item" routerLink="/">
                <i class="">
                  <img
                  src="../../../assets/images/document-plus.png"
                    height="30px"
                    width="30px"
                  />
                </i>
                <span> اعداد النقاط</span>
              </div>
  
              <div class="nav-item first-item" routerLink="/technical">
                <i class="">
                  <img
                  src="../../../assets/images/document-plus.png"
                    height="30px"
                    width="30px"
                  />
                </i>
                <span> اعداد الدرجات</span>
              </div>
  
              <div class="nav-item" routerLink="/permission">
                <i class="">
                  <img
                    src="../../../assets/images/headphones.png"
                    height="30px"
                    width="30px"
                  />
                </i>
                <span>الدعم الفني</span>
              </div>
  
  
  
  
              </div>
          </div>
        </div>
      </div>
  
  </div>
  
  
  

  
    <div class="custom-form">
      <div class="my-form">
        <div class="form-group container">
            <div class="header">
                <div class="header-item">
                    <span>المادة</span>
                    <p class="subject mt-2">توحيد</p>
                </div>
                <div class="header-item">
                    <span>الفصل</span>
                    <div class="terms ">
                        <div class="term mt-2" *ngFor="let term of terms">{{ term }}</div>
                    </div>
                </div>
                <div class="header-item">
                    <span>الصف</span>
                    <p class="class-level mt-2">الاول متوسط</p>
                </div>
           
            </div>
            
            <div class="row" style="margin-bottom: 10px; text-align: end; direction: rtl;">
            <div class="add-test float-end col-md-6" style="text-align: justify;">
              <span class="mytitle">إجمالي الاختبارات </span>
              <br>
              <span class="test-count">24</span>
            </div>
            <div class=col-md-6>
            <button class="add-test-btn mb-3" data-bs-toggle="modal" data-bs-target="#exam">+ إضافة اختبار</button>
          </div>
          </div>


            <!-- Card Items -->
            <div *ngFor="let test of tests; let i = index" class="card-container">
              <span class="number-badge">{{ i + 1 }}</span>
              <div class="card-header">
                  <!-- Title and list icon on the left side -->
                  <div class="title-with-icon">
                      <span class="item-title">{{ test.title }}</span>
                      
                      <button class="list-icon">
                          <img src="../../assets/images/list-left.png" height="30px" width="30px">
                      </button>
                  </div>
          
                  <!-- Icons on the right side (add question, settings, A icon) -->
                  <div class="icons mt-3">
                      <button class="icon-btn">+ إضافة أسئلة</button>
          
                      <div class="btn-group" (click)="toggleDropdown2(i)">
                          <button class="icon-btn2 dropdown-toggle">
                              <img src="../../assets/images/settingsBl.svg" height="20px" width="20px">
                          </button>
                          
                          <!-- Custom Dropdown Menu -->
                          <ul *ngIf="isDropdownOpen[i]" class="dropdown-menu">
                              <li><a class="dropdown-item">
                                تعديل <i class="fa-solid fa-pen-to-square"></i> </a></li>
                              <li><a class="dropdown-item" >حذف <i class="fa-solid fa-trash"></i></a></li>
                              <li><a class="dropdown-item">مشاركة مع طلاب
                                <i class="fa-solid fa-share"></i>
                              </a></li>
                              <li><a class="dropdown-item">طباعه ورقة الامتحان
                                <i class="fa-solid fa-print"></i>
                              </a></li>
                          </ul>
                      </div>
          
                      <button class="icon-btn3" data-bs-toggle="modal" data-bs-target="#student">
                          <img src="../../assets/images/A.png" height="13px" width="15px">
                      </button>
                  </div>
              </div>
              <div class="card-body">
                  <span class="item-info">إجمالي الدرجات: {{ test.score }}</span>
              </div>
            </div>
        </div>
      </div>
    </div>
</div>





  <!-- Exam Modal -->
<div
class="modal fade"
id="exam"
data-bs-backdrop="static"
data-bs-keyboard="false"
tabindex="-1"
aria-labelledby="staticBackdropLabel"
aria-hidden="true"
>
<div class="modal-dialog">
  <div class="modal-content outer-container">
    <div class="inner-container">
      <div class="modal-header">
        <h1 class="modal-title" id="staticBackdropLabel">
        اضافة إختبار
        </h1>
        <button
        type="button"
        class="close closebtn"
        data-bs-dismiss="modal"
        aria-label="Close"
        >
          <img src="../../../assets/images/close.png" width="40px">
        </button>
      </div>

      <div class="modal-body full-width-box">
        <div class="container">
         
          <div class="row">
            <form class="w-100 mt-4 ">
              
              <div class="row mb-3 justify-content-center">
              
                <div class="col-md-12 text-right">
                  <label>عنوان الاختبار</label>
                  <input type="text" class="form-control rounded-pill" />
                </div>

                <div class="col-md-12 text-right">
                  <label>اجمالي الدرجات</label>
                  <input type="text" class="form-control rounded-pill" />
                </div>

                 <!-- Switch Container for تحديد وقت -->
                 <div class="col-md-12 switch-container">
                  <label class="switch">
                    <input type="checkbox" />
                    <span class="slider"></span>
                  </label>
                  <span class="switch-label">تحديد وقت</span>
                </div>


                <div class="col-md-12 switch-container">
                  <label class="switch">
                    <input type="checkbox">
                    <span class="slider"></span>
                  </label>
                  <span class="switch-label ">نشر تلقائي</span>
                </div>
                
                
           
                
                

  
              </div>
          

            </form> 
          </div> 
        </div>
        
      </div>
      <div class="modal-footer">
        <button class="btn custombtn">حفظ</button>
      </div>
    </div>
  </div>
</div>
</div>


<!-- Student Modal -->

<div
class="modal fade"
id="student"
data-bs-backdrop="static"
data-bs-keyboard="false"
tabindex="-1"
aria-labelledby="staticBackdropLabel"
aria-hidden="true"
>
<div class="modal-dialog ">
  <div class="modal-content outer-container">
    <div class="inner-container">
      <div class="modal-header">
        <h1 class="modal-title" id="staticBackdropLabel">
        مشاركة اختبار مع طلاب
        </h1>
        <button
        type="button"
        class="close closebtn"
        data-bs-dismiss="modal"
        aria-label="Close"
        >
          <img src="../../../assets/images/close.png" width="40px">
        </button>
      </div>

   

      <div class="modal-body ">
        <div class=" mb-3">
          <button class="btn custombtn2">أرسال</button>
        </div>
        <div class="students-list">
          <div class="student" *ngFor="let student of students; let i = index">
            <div >
              <span class=" me-1" (click)="toggleDropdown(i)" > </span><span (click)="toggleDropdown(i)"> </span>
            </div>
        
            <div class="student-info" (click)="toggleDropdown(i)">
              <span class="student-name">{{ student.name }}</span>
        
              <img
                [src]="student.image"
                alt="Student Image"
                class="student-image"
              />
        
           
        
              <div class="student-icons">
                <span class="badge">
                  <input type="checkbox">
                </span>
              </div>
            </div>
    
    
          </div>
        </div>
        
      </div>

   
    </div>
  </div>
</div>
</div>